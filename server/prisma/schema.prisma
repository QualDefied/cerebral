generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "sqlite"
  url      = "file:./dev.db"
}

model Account {
  id           String      @id @default(cuid())
  name         String
  type         String      // "CHECKING" | "SAVINGS" | "CREDIT_CARD" | "INVESTMENT" | "LOAN"
  balance      Decimal     @default(0)
  currency     String      @default("USD")
  isActive     Boolean     @default(true)
  createdAt    DateTime    @default(now())
  updatedAt    DateTime    @updatedAt

  transactions Transaction[]

  @@map("accounts")
}

model Transaction {
  id          String            @id @default(cuid())
  accountId   String
  amount      Decimal
  description String
  category    String            // "FOOD_DINING" | "TRANSPORTATION" | etc.
  type        String            // "INCOME" | "EXPENSE" | "TRANSFER"
  date        DateTime
  createdAt   DateTime          @default(now())
  updatedAt   DateTime          @updatedAt

  account Account @relation(fields: [accountId], references: [id], onDelete: Cascade)

  @@map("transactions")
}

model Budget {
  id         String   @id @default(cuid())
  category   String   // "FOOD_DINING" | "TRANSPORTATION" | etc.
  amount     Decimal
  period     String   // "monthly" | "weekly" | "yearly"
  startDate  DateTime
  endDate    DateTime
  createdAt  DateTime @default(now())
  updatedAt  DateTime @updatedAt

  @@map("budgets")
}

model Debt {
  id            String   @id @default(cuid())
  name          String
  balance       Decimal
  interestRate  Decimal
  minimumPayment Decimal
  dueDate       DateTime?
  type          String   // "credit_card" | "loan" | "mortgage" | "other"
  createdAt     DateTime @default(now())
  updatedAt     DateTime @updatedAt

  @@map("debts")
}

model CreditCard {
  id            String   @id @default(cuid())
  name          String
  lastFourDigits String
  creditLimit   Decimal
  currentBalance Decimal  @default(0)
  apr           Decimal
  rewardsProgram String?
  pointsBalance  Int      @default(0)
  rewardType    String?  @default("points")
  bank          String?
  cashbackRate   Decimal? @default(0)
  annualFee      Decimal  @default(0)
  minimumPaymentPercentage Decimal @default(0.02)
  isActive       Boolean  @default(true)
  createdAt      DateTime @default(now())
  updatedAt      DateTime @updatedAt

  @@map("credit_cards")
}

model CryptoAsset {
  id            String   @id @default(cuid())
  symbol        String   // BTC, ETH, ADA, etc.
  quantity      Decimal  @default(0)
  averageCost   Decimal  @default(0) // Average cost per unit in USD
  currentPrice  Decimal  @default(0) // Current market price in USD
  platform      String?  // Coinbase, Binance, Hardware Wallet, etc.
  walletAddress String?  // Optional wallet address
  isActive      Boolean  @default(true)
  createdAt     DateTime @default(now())
  updatedAt     DateTime @updatedAt

  @@map("crypto_assets")
}

